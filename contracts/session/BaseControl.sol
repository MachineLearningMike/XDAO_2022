// SPDX-License-Identifier: BUSL-1.1
pragma solidity ^0.8.0;

import "./interfaces/IConstants.sol";

interface ITokenMetadata {
    function name() external view returns (string memory);
    function symbol() external view returns (string memory);
    function decimals() external view returns (uint8);
}

contract BaseControl {

    struct PairStateSessionTagged {
        uint256 reserve0;
        uint256 reserve1;
        uint256 sessionTag;
    }
    mapping(address => PairStateSessionTagged) pairStateAtSessionBirth;
    uint256 constant squareFeeMagnifier = FeeMagnifier * FeeMagnifier;

    function _capturePairStateAtSessionBirth(uint256 session, PairSnapshot memory pairSnapshot) internal virtual {
        if (pairStateAtSessionBirth[pairSnapshot.pair].sessionTag != session ) {
            pairStateAtSessionBirth[pairSnapshot.pair].reserve0 = pairSnapshot.reserve0;
            pairStateAtSessionBirth[pairSnapshot.pair].reserve1 = pairSnapshot.reserve1;
            pairStateAtSessionBirth[pairSnapshot.pair].sessionTag = session;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
        }
    }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
}